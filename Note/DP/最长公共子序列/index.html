<!-- <script>
document.addEventListener("DOMContentLoaded", () => {
  const toggleButton = document.querySelector('.md-header__button.md-icon');
  
  function getGiscusIframe() {
    return document.querySelector(".giscus iframe");
  }

  function setGiscusTheme(theme) {
    const iframe = getGiscusIframe();
    if (!iframe) return;
    iframe.contentWindow.postMessage(
      {
        giscus: {
          setConfig: {
            theme: theme
          }
        }
      },
      "https://giscus.app"
    );
  }

  function updateGiscusTheme() {
    // Material 主题判断
    const isDark = document.documentElement.getAttribute("data-md-color-scheme") === "slate";
    const theme = isDark ? "dark_dimmed" : "light";
    setGiscusTheme(theme);
  }

  // 监听 Giscus 加载完成
  const observer = new MutationObserver(() => {
    const iframe = getGiscusIframe();
    if (iframe) {
      updateGiscusTheme();
      observer.disconnect();
    }
  });
  observer.observe(document.body, { childList: true, subtree: true });

  // 点击切换按钮时更新 Giscus
  if (toggleButton) {
    toggleButton.addEventListener("click", () => {
      setTimeout(updateGiscusTheme, 500); // 给 Material 动画一点时间
    });
  }
});
</script> -->